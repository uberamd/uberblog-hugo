<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>installing sentry on ubuntu 14.04 :: steves ramblings</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Intro So you want to deploy Sentry in your local environment, eh? Assuming you already know what Sentry does, I&amp;rsquo;ll just give you the tagline from their website: Sentry provides real-time crash reporting for your web apps, mobile apps, and games. That&amp;rsquo;s a pretty fantastic summary. What I use it for is gathering, grouping, and alerting on Ruby on Rails application issues. It wraps errors up in to a nice, easy to digest package that you can work through, resolve, and get trend analysis on." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://www.stevem.io/post/quick-start-installing-sentry-on-ubuntu-14-04/" />


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-79548225-1', 'auto');
	
	ga('send', 'pageview');
}
</script>



<link rel="stylesheet" href="https://www.stevem.io/assets/style.css">

  <link rel="stylesheet" href="https://www.stevem.io/assets/green.css">






<link rel="apple-touch-icon" href="https://www.stevem.io/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://www.stevem.io/img/favicon/green.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="installing sentry on ubuntu 14.04">
<meta property="og:description" content="Simple walkthrough describing the installation process of Sentry on Ubuntu 14.04" />
<meta property="og:url" content="https://www.stevem.io/post/quick-start-installing-sentry-on-ubuntu-14-04/" />
<meta property="og:site_name" content="steves ramblings" />

  
    <meta property="og:image" content="https://www.stevem.io/img/favicon/green.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2016-03-04 17:21:56 -0600 CST" />












</head>
<body class="green">


<div class="container full headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    steves ramblings
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://www.stevem.io/post/quick-start-installing-sentry-on-ubuntu-14-04/">installing sentry on ubuntu 14.04</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2016-03-04 
      </span>
    
    
    <span class="post-author">:: Steve Morrissey</span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://www.stevem.io/tags/tutorial/">tutorial</a>&nbsp;
    
    #<a href="https://www.stevem.io/tags/linux/">linux</a>&nbsp;
    
    #<a href="https://www.stevem.io/tags/ubuntu/">ubuntu</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h1 id="intro">Intro<a href="#intro" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>So you want to deploy Sentry in your local environment, eh? Assuming you already know what Sentry does, I&rsquo;ll just give you the tagline from their website: Sentry provides real-time crash reporting for your web apps, mobile apps, and games. That&rsquo;s a pretty fantastic summary. What I use it for is gathering, grouping, and alerting on Ruby on Rails application issues. It wraps errors up in to a nice, easy to digest package that you can work through, resolve, and get trend analysis on. It works much better than parsing log files and best of all, it&rsquo;s free!</p>
<p>This guide will walk you through the setup process on a fairly clean Ubuntu 14.04 server. You should be able to copy/paste MOST of the below commands and end up with a working install.</p>
<h1 id="lets-get-started">Lets get started!<a href="#lets-get-started" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Add an updated PPA that contains version 2.8.9 or newer, then update apt to grab the latest package sources:</p>
<pre><code>sudo add-apt-repository ppa:chris-lea/redis-server
sudo apt-get update
</code></pre><p>Install the required software and dependencies:</p>
<pre><code>sudo apt-get install -y redis-server redis-tools python-setuptools python-pip python-dev libxslt1-dev libxml2-dev libz-dev libffi-dev libssl-dev libpq-dev libyaml-dev postgresql nginx-full supervisor
</code></pre><p>Install Virtualenv using pip:</p>
<pre><code>sudo pip install -U virtualenv
</code></pre><p>Create a user to run Sentry as (give it a password, you can leave the rest of the questions empty):</p>
<pre><code>sudo adduser sentry
</code></pre><p>Create a postgres user matching the newly created sentry user:</p>
<pre><code>sudo su - postgres
psql template1
create user sentry with password 'somePasswordHere';
create database sentrydb with owner sentry;
\q
exit
</code></pre><p>Switch to the newly created user:</p>
<pre><code>sudo su - sentry
</code></pre><p>Pick a location for the environment and create it:</p>
<pre><code>virtualenv ~/sentry_app/
</code></pre><p>Source the environment:</p>
<pre><code>source ~/sentry_app/bin/activate
</code></pre><p>Begin the Sentry installation:</p>
<pre><code>pip install -U sentry
</code></pre><p>Initialize the sentry config files, this will create a config directory of ~/.sentry:</p>
<pre><code>sentry init
</code></pre><p>Modify the sentry.conf.py file with the Postgresql information created above:</p>
<pre><code>DATABASES = {
    'default': {
        'ENGINE': 'sentry.db.postgres',
        'NAME': 'sentrydb',
        'USER': 'sentry',
        'PASSWORD': 'somePasswordHere',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
</code></pre><p>Add redis connection information to the .sentry/config.yml file:</p>
<pre><code>redis.clusters:
  default:
    hosts:
      0:
        host: 127.0.0.1
        port: 6379
</code></pre><p>Run the database migration scripts. At the end of this process it&rsquo;ll ask you to create a user, do so and make it a superuser:</p>
<pre><code>sentry upgrade
</code></pre><p>Exit out of the Sentry user and create a startup script for supervisord. Supervisord will ensure all the processes needed for Sentry remain running:</p>
<pre><code>exit
sudo vim /etc/supervisor/conf.d/sentry.conf
</code></pre><p>Paste the following into the sentry.conf supervisor file:</p>
<pre><code>[program:sentry-web]
directory=/home/sentry/sentry_app/
environment=SENTRY_CONF=&quot;/home/sentry/.sentry&quot;
command=/home/sentry/sentry_app/bin/sentry start
autostart=true
autorestart=true
redirect_stderr=true
user=sentry
stdout_logfile=syslog
stderr_logfile=syslog

[program:sentry-worker]
directory=/home/sentry/sentry_app/
environment=SENTRY_CONF=&quot;/home/sentry/.sentry&quot;
command=/home/sentry/sentry_app/bin/sentry celery worker
autostart=true
autorestart=true
redirect_stderr=true
user=sentry
stdout_logfile=syslog
stderr_logfile=syslog

[program:sentry-cron]
directory=/home/sentry/sentry_app/
environment=SENTRY_CONF=&quot;/home/sentry/.sentry&quot;
command=/home/sentry/sentry_app/bin/sentry celery beat
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=syslog
stderr_logfile=syslog
</code></pre><p>Save, exit, and tell supervisor to update:</p>
<pre><code>sudo supervisorctl reread
sudo supervisorctl update
</code></pre><p>You can check on the status of the components by running:</p>
<pre><code>sudo supervisorctl
status
</code></pre><p>You want everything to be in a running state. After that go to the FQDN or IP address of the server to complete setup: <code>http://your.server.ip.address:9000</code></p>
<p>If you specify a URL different from what you&rsquo;re currently connected to once setup completes you&rsquo;ll need to visit the updated URL as Sentry doesn&rsquo;t allow you to connect from ANY address other than the domain/IP specified during setup.</p>
<p>That&rsquo;s it! Much of this guide is derived from the <a href="https://docs.getsentry.com/on-premise/server/installation/">official Sentry docs</a> with more detail filled in where needed. One might say I simply noobified the guide by adding some more hand-holding.</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://www.stevem.io/post/unifi-wireless-metrics-with-sensu/">
                <span class="button__icon">←</span>
                <span class="button__text">unifi wireless metrics with sensu</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://www.stevem.io/post/install-vmware-vcenter-6-with-less-than-8gb-ram/">
                <span class="button__text">install vmware vcenter 6 with less than 8gb ram</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2020 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://www.stevem.io/assets/main.js"></script>
<script src="https://www.stevem.io/assets/prism.js"></script>







  
</div>

</body>
</html>
